{
  "$schema": "https://greentic-ai.github.io/greentic-component/schemas/v1/component.manifest.schema.json",
  "artifacts": {
    "component_wasm": "target/wasm32-wasip2/release/component_templates.wasm"
  },
  "capabilities": {
    "host": {
      "messaging": {
        "inbound": true,
        "outbound": true
      },
      "secrets": {
        "required": []
      },
      "telemetry": {
        "scope": "node"
      }
    },
    "wasi": {
      "clocks": true,
      "filesystem": {
        "mode": "none",
        "mounts": []
      },
      "random": true
    }
  },
  "config_schema": {
    "additionalProperties": false,
    "properties": {
      "templates": {
        "additionalProperties": false,
        "properties": {
          "output_path": {
            "type": "string"
          },
          "routing": {
            "type": "string"
          },
          "text": {
            "type": "string"
          },
          "wrap": {
            "type": "boolean"
          }
        },
        "required": [
          "text"
        ],
        "type": "object"
      }
    },
    "required": [
      "templates"
    ],
    "type": "object"
  },
  "default_operation": "handle_message",
  "describe_export": "describe",
  "dev_flows": {
    "custom": {
      "format": "flow-ir-json",
      "graph": {
        "description": "Auto-generated custom config for ai.greentic.component-templates",
        "id": "ai.greentic.component-templates.custom",
        "kind": "component-config",
        "nodes": {
          "ask_config": {
            "questions": {
              "fields": [
                {
                  "default": {
                    "templates": {
                      "text": "Hello {{name}}"
                    }
                  },
                  "id": "config",
                  "prompt": "Template configuration (see component schema)",
                  "type": "string"
                },
                {
                  "id": "connections",
                  "prompt": "Downstream connections (not used by this component)",
                  "type": "string"
                },
                {
                  "default": {},
                  "id": "msg",
                  "prompt": "Channel message envelope forwarded to the template context",
                  "type": "string"
                },
                {
                  "default": {},
                  "id": "payload",
                  "prompt": "Incoming node payload exposed to the template context",
                  "type": "string"
                }
              ]
            },
            "routing": [
              {
                "to": "emit_config"
              }
            ]
          },
          "emit_config": {
            "template": "{\n  \"node_id\": \"component-templates\",\n  \"node\": {\n    \"handle_message\": {\n      \"input\": {\n        \"config\": \"{{state.config}}\",\n        \"connections\": \"{{state.connections}}\",\n        \"msg\": \"{{state.msg}}\",\n        \"payload\": \"{{state.payload}}\"\n      }\n    },\n    \"routing\": [\n      { \"to\": \"NEXT_NODE_PLACEHOLDER\" }\n    ]\n  }\n}"
          }
        }
      }
    },
    "default": {
      "format": "flow-ir-json",
      "graph": {
        "description": "Auto-generated default config for ai.greentic.component-templates",
        "id": "ai.greentic.component-templates.default",
        "kind": "component-config",
        "nodes": {
          "emit_config": {
            "template": "{\n  \"node_id\": \"component-templates\",\n  \"node\": {\n    \"handle_message\": {\n      \"input\": {\n        \"config\": {\"templates\":{\"text\":\"Hello {{name}}\"}},\n        \"msg\": {},\n        \"payload\": {}\n      }\n    },\n    \"routing\": [\n      { \"to\": \"NEXT_NODE_PLACEHOLDER\" }\n    ]\n  }\n}"
          }
        }
      }
    }
  },
  "hashes": {
    "component_wasm": "blake3:663d5b8ac09684349bf64c6db533f4cc3888ee10062c2a1feafb44ad9a5d9186"
  },
  "id": "ai.greentic.component-templates",
  "limits": {
    "memory_mb": 128,
    "wall_time_ms": 1000
  },
  "name": "component-templates",
  "operations": [
    {
      "input_schema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "properties": {
          "input": {
            "default": "Hello from component-templates!",
            "description": "Opaque payload forwarded to handle",
            "type": "string"
          }
        },
        "required": [
          "input"
        ],
        "title": "component-templates handle input",
        "type": "object"
      },
      "name": "handle_message",
      "output_schema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "properties": {
          "message": {
            "default": "Handled by component-templates",
            "description": "Response returned by the handle entry point",
            "type": "string"
          }
        },
        "required": [
          "message"
        ],
        "title": "component-templates handle output",
        "type": "object"
      }
    },
    {
      "input_schema": {
        "additionalProperties": true,
        "properties": {
          "mode": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "name": "qa-spec",
      "output_schema": {
        "additionalProperties": true,
        "properties": {
          "mode": {
            "type": "string"
          }
        },
        "type": "object"
      }
    },
    {
      "input_schema": {
        "additionalProperties": true,
        "properties": {
          "answers": {
            "type": "object"
          },
          "current_config": {
            "type": "object"
          },
          "mode": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "name": "apply-answers",
      "output_schema": {
        "additionalProperties": false,
        "properties": {
          "templates": {
            "additionalProperties": false,
            "properties": {
              "output_path": {
                "type": "string"
              },
              "routing": {
                "type": "string"
              },
              "text": {
                "type": "string"
              },
              "wrap": {
                "type": "boolean"
              }
            },
            "required": [
              "text"
            ],
            "type": "object"
          }
        },
        "required": [
          "templates"
        ],
        "type": "object"
      }
    },
    {
      "input_schema": {
        "additionalProperties": true,
        "properties": {
          "mode": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "name": "i18n-keys",
      "output_schema": {
        "items": {
          "type": "string"
        },
        "type": "array"
      }
    }
  ],
  "profiles": {
    "default": "stateless",
    "supported": [
      "stateless"
    ]
  },
  "secret_requirements": [],
  "supports": [
    "messaging"
  ],
  "version": "0.1.16",
  "world": "greentic:component/component@0.6.0"
}
